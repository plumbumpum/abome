<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>abome</title>
    <link rel="stylesheet" href="/css/style.css"/>
</head>
<body>
    <div id="wrapper">

    </div><!--wrapper end-->


    <script>
        var canvases = Array.prototype.slice.apply(document.getElementsByClassName('circle-progress-bar')),

        drawCircle = function (ctx, progress, color, borderWidth) {
            var halfWidth = ctx.canvas.width / 2,
            halfHeight = ctx.canvas.height / 2,
            radius = halfWidth - borderWidth,
            length = (360 * progress) / 100;

            ctx.beginPath();
            ctx.strokeStyle = color;
            ctx.lineWidth = borderWidth;
            ctx.arc(halfWidth, halfHeight, radius, (Math.PI / 180) * length, 0, true);
            ctx.stroke();
        };

        canvases.forEach(function (canvas) {
            var ctx = canvas.getContext('2d'),
            progress = +canvas.attributes.getNamedItem('value').value,

            color = progress < 40 ? '#b21313':
                    progress < 80 ? '#608dff':
                  /*progress > 80*/ '#30ac39';

            ctx.translate(0, ctx.canvas.height);
            ctx.rotate((-1 / 2 + 0 / 180) * Math.PI);
            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.width);

            drawCircle(ctx, 100, '#303b4c', 2);
            drawCircle(ctx, progress, color, 2);
        });

    </script>

    <!--scripts-->
    <script src="/bower/requirejs/require.js"></script>
    <script src="/require-config.js"></script>
    <script src="/js/appStart.js"></script>
    <!--scripts end-->
</body>
</html>